{% macro new_segment_rtl(background, background_left, content) %}
{{ color_bg(background_left) }}
{{ ''|color_fg(background)}}
{{ color_bg(background) }}
 
{{ content}}
{% endmacro %}

{% macro new_segment_ltr(background, background_right, content) %}
{{ color_bg(background) }}
{{ content}}
 
{{ ''|color_bg(background_right)|color_fg(background)}}
{{ color_bg(background_right) }}
 
{% endmacro %}

{% macro render_segments(elements) %}
{% for element in elements %}
{{element.content|color_bg(element.bg_color)|color_fg(element.fg_color)}}
{% endfor %}
{% endmacro %}
